{"version":3,"sources":["components/Registration/Registration.module.css","components/Registration/Registration.js"],"names":["module","exports","INITIAL_VALUES","name","email","password","confirmPassword","Registration","useState","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","dispatch","useDispatch","validate","useCallback","values","errors","length","test","handleSubmit","setSubmitting","authOperations","register","togglePassword","prev","toggleConfirmPassword","className","s","loginWindow","initialValues","onSubmit","touched","handleChange","handleBlur","isSubmitting","form","TextField","fullWidth","variant","margin","id","label","value","onChange","onBlur","error","Boolean","helperText","passwordField","type","passwordIconButton","IconButton","onClick","disabled","confirmButton","Button","color","Object","keys","to","routes","login"],"mappings":"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","file":"static/js/Registration.6c2e3a59.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginWindow\":\"Registration_loginWindow__14kC2\",\"form\":\"Registration_form__pVcsB\",\"passwordField\":\"Registration_passwordField__1v4yE\",\"passwordIconButton\":\"Registration_passwordIconButton__1IS1a\",\"confirmButton\":\"Registration_confirmButton__2_Ics\"};","import React, { useCallback, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Formik } from 'formik';\nimport { Link } from \"react-router-dom\";\nimport { routes } from \"utils/routes\";\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport IconButton from '@material-ui/core/IconButton';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport s from './Registration.module.css';\nimport  authOperations  from \"redux/auth/auth-operations\";\n/** \n * NOTE: initial values in registration form\n    values = {\n        name: '',\n        email: '',\n        password: '',\n        confirmPassword: '',\n    }\n*/\n\nconst INITIAL_VALUES = {\n    name: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n};\n \nconst Registration = () => {\n    const [showPassword, setShowPassword] = useState(false);\n    const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n    const dispatch = useDispatch();\n\n    const validate = useCallback(values => {\n        const errors = {};\n\n        if (!values.name) {\n            errors.name = 'Required';\n        } else if (values.name.length < 3) {\n            errors.name = 'Invalid name. Name should have at least 3 symbols';\n        }\n\n        if (!values.email) {\n            errors.email = 'Required';\n        } else if (\n            !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\n        ) {\n            errors.email = 'Invalid email address';\n        }\n\n        if (!values.password) {\n            errors.password = 'Required';\n        } else if (values.password.length < 8 || values.password.length > 16) {\n            errors.password = 'Invalid password. Password should be greater then 8 symbols and less then 16 symbols';\n        }\n\n        if (!values.confirmPassword) {\n            errors.confirmPassword = 'Required';\n        } else if (values.confirmPassword.length < 8 || values.confirmPassword.length > 16) {\n            errors.confirmPassword = 'Invalid password. Password should be greater then 8 symbols and less then 16 symbols';\n        } else if (values.password !== values.confirmPassword) {\n            errors.confirmPassword = 'Confirm password should be equal to password';\n        }\n\n        return errors;\n    }, []);\n\n    const handleSubmit = useCallback((values, { setSubmitting }) => {\n        dispatch(authOperations.register({name: values.name, email: values.email, password: values.password}));\n        setSubmitting(false);\n    }, [dispatch]);\n\n    const togglePassword = useCallback(() => {\n        setShowPassword(prev => !prev);\n    }, []);\n\n    const toggleConfirmPassword = useCallback(() => {\n        setShowConfirmPassword(prev => !prev);\n    }, []);\n\n    return (\n        <>\n            <h1 className=\"text\">Sing up form</h1>\n            <div className={s.loginWindow}>\n                <Formik\n                    initialValues={INITIAL_VALUES}\n                    validate={validate}\n                    onSubmit={handleSubmit}\n                >\n                    {({\n                        values,\n                        errors,\n                        touched,\n                        handleChange,\n                        handleSubmit,\n                        handleBlur,\n                        isSubmitting,\n                    }) => (\n                        <form className={s.form} onSubmit={handleSubmit}>\n                            <TextField\n                                fullWidth\n                                variant=\"outlined\"\n                                margin=\"normal\"\n                                id=\"name\"\n                                name=\"name\"\n                                label=\"Name\"\n                                value={values.name}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                                error={touched.name && Boolean(errors.name)}\n                                helperText={touched.name && errors.name}\n                            />\n                            <TextField\n                                fullWidth\n                                variant=\"outlined\"\n                                margin=\"normal\"\n                                id=\"email\"\n                                name=\"email\"\n                                label=\"Email\"\n                                value={values.email}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                                error={touched.email && Boolean(errors.email)}\n                                helperText={touched.email && errors.email}\n                            />\n                            <div className={s.passwordField}>\n                                <TextField\n                                    fullWidth\n                                    variant=\"outlined\"\n                                    id=\"password\"\n                                    name=\"password\"\n                                    label=\"Password\"\n                                    type={showPassword ? 'text' : 'password'}\n                                    value={values.password}\n                                    onChange={handleChange}\n                                    onBlur={handleBlur}\n                                    error={touched.password && Boolean(errors.password)}\n                                    margin=\"normal\"\n                                    helperText={touched.password && errors.password}\n                                />\n                                <div className={s.passwordIconButton}>\n                                    <IconButton\n                                        aria-label=\"visibility\"\n                                        onClick={togglePassword}\n                                        disabled={!values.password}>\n                                        {showPassword ? <VisibilityOff /> : <Visibility />}\n                                    </IconButton>\n                                </div>\n                            </div>\n                            <div className={s.passwordField}>\n                                <TextField\n                                    fullWidth\n                                    variant=\"outlined\"\n                                    id=\"confirmPassword\"\n                                    name=\"confirmPassword\"\n                                    label=\"Confirm Password\"\n                                    type={showConfirmPassword ? 'text' : 'password'}\n                                    value={values.confirmPassword}\n                                    onChange={handleChange}\n                                    onBlur={handleBlur}\n                                    error={touched.confirmPassword && Boolean(errors.confirmPassword)}\n                                    margin=\"normal\"\n                                    helperText={touched.confirmPassword && errors.confirmPassword}\n                                />\n                                <div className={s.passwordIconButton}>\n                                    <IconButton\n                                        aria-label=\"visibility\"\n                                        onClick={toggleConfirmPassword}\n                                        disabled={!values.confirmPassword}>\n                                        {showConfirmPassword ? <VisibilityOff /> : <Visibility />}\n                                    </IconButton>\n                                </div>\n                            </div>\n                            <div className={s.confirmButton}>\n                                <Button color=\"primary\" variant=\"contained\" type=\"submit\" disabled={isSubmitting ||\n                                    !(Object.keys(touched).length === Object.keys(INITIAL_VALUES).length\n                                        && Object.keys(errors).length === 0)}>\n                                    Sign up\n                                </Button>\n                            </div>\n                        </form>\n                    )}\n                </Formik>\n                <p>Do you already have an account? Go to <Link to={routes.login}>LOGIN!</Link></p>\n            </div>\n        </>\n    );\n }\n \nexport default Registration;"],"sourceRoot":""}